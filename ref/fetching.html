<!DOCTYPE html>
<body>
  <form id="formElem">
    <h3>Title</h3>
    <p class="price">Loading....</p>
    <img src="" alt="">
    <input type="hidden" name="id" value="0" />
    <input type="number" name="amount" value="0" />
    <input type="submit" value="Add to cart" />
  </form>

  <script>
    const formElem = document.querySelector("#formElem");
    const titleElem = document.querySelector("#formElem h3");
    const imgElem = document.querySelector("#formElem img");
    const idElem = document.querySelector("#formElem input[name='id']");
    const priceElem = document.querySelector("#formElem p.price");
    const amountElem = document.querySelector("#formElem input[name='amount']");

    async function populateShop() {
      const response = await fetch("https://fakestoreapi.com/products/1");
      const data = await response.json();
      titleElem.textContent = data.title;
      idElem.value = data.id;
      imgElem.src = data.image;
      imgElem.alt = data.title
      priceElem.textContent = `$${data.price}`;

      formElem.onsubmit = (e) => {
        e.preventDefault();
        if (Number(amountElem.value > 0)) {
          let response = new FormData(formElem);

          console.log({
            id: response.get("id"),
            amount: response.get("amount"),
          });
        } else {
          console.log("please input an amount!")
        }
      };
    }

    // async function populateShop() {
    //   const response = await fetch("https://fakestoreapi.com/products/");
    //   const data = await response.json();
    //   console.log(data);

    // }

    populateShop();
  </script>
</body>
